(this["webpackJsonpinstrument-dashboard"]=this["webpackJsonpinstrument-dashboard"]||[]).push([[0],{1707:function(t,e,n){"use strict";n.r(e);var a=n(17),o=n(1),i=n.n(o),c=n(653),s=n.n(c),r=n(80),u=n(1723),l=n(1726),d=n(1731),b=n(1730),j=n(1736),f=n(655),O=function(t){var e=t.annotations,n=t.scale,i=Object(o.useState)({x:10,y:10,dy:50,dx:50}),c=Object(r.a)(i,2),s=c[0],u=c[1];return e.map((function(t){return Object(a.jsx)(f.AnnotationLabel,{x:n.x(t._x),y:n.y(t._y),dx:s.dx,dy:s.dy,color:"#333",editMode:!0,note:{title:"Annotations :)",label:"Longer text to show text wrapping",align:"middle",orientation:"topBottom",bgPadding:10,padding:10,titleColor:"#666"},onDrag:function(t){return u(t)}})}))},m=n(1724),x=n(1727),h=n(1732),g=n(359),p=n.n(g),y=n(656),v=n.n(y),k=n(657),w=n.n(k),C=new v.a({clientId:"readings",host:"https://if2574leol.execute-api.us-east-2.amazonaws.com/dev",resources:{Readings:{list:{path:"/readings",headers:{"x-api-key":"esHC6lRZzJ2R2dnKXVI6157bY5wirAkh6uznnGaU"},middleware:[function(){return{response:function(t){return t().then((function(t){return w()(t.data(),{columns:!0,cast:function(t,e){switch(e.column){case"timestamp":return parseInt(t);case"reading":return parseFloat(t);default:return t}}})}))}}}]}}}}),D=n(658),I=n.n(D),P=["#9e6864","#3f0f63","#35868c","#f24b3f","#6d9c49"],S=Object(u.a)("zoom","voronoi"),z=new Date("1/26/2021"),A=function(){var t=Object(o.useState)(),e=Object(r.a)(t,2),n=e[0],i=e[1],c=Object(o.useState)([]),s=Object(r.a)(c,2),u=s[0],f=s[1],g=Object(o.useState)(),y=Object(r.a)(g,2),v=y[0],k=y[1],w=Object(o.useState)(new Date),D=Object(r.a)(w,2),A=D[0],M=(D[1],Object(o.useState)([A.valueOf])),F=Object(r.a)(M,2),L=(F[0],F[1]),R=I()((function(t,e){C.Readings.list({from:t,to:e}).then((function(t){var e=Object(m.a)(Object(x.a)("source"))(t),n=0,a=Object(h.a)((function(t){return{data:t,color:P[n++%P.length]}}))(e);i(a)}))}),500,{trailing:!0});Object(o.useEffect)((function(){R(),setInterval(R,3e5)}),[]);var W=Object(o.useCallback)((function(t){L(t.x),R(t.x[0].valueOf(),t.x[1].valueOf())}),[R]),B=Object(o.useCallback)((function(t){console.log(t)}),[]),J=Object(o.useCallback)((function(){console.log(f(v))}),[v]);return Object(a.jsxs)("div",{className:"App",children:[n&&Object.keys(n).map((function(t){return Object(a.jsxs)("span",{onClick:function(){return B(t)},style:{padding:5},children:[Object(a.jsx)("span",{style:{backgroundColor:n[t].color,display:"inline-block",width:20,height:20}})," ",t]})})),Object(a.jsxs)(l.a,{padding:25,height:window.innerHeight-100,width:window.innerWidth,scale:{x:"time"},minDomain:{x:z,y:-30},maxDomain:{x:A,y:55},containerComponent:Object(a.jsx)(S,{zoomDimension:"x",zoomDomain:{x:[A.valueOf()-2592e5,A.valueOf()]},responsive:!1,onZoomDomainChange:W,allowPan:!0,allowZoom:!0,labels:function(t){var e=t.datum;return e.reading||e.y},onActivated:function(t){return k(t)},events:{onClick:J}}),children:[Object(a.jsx)(d.a,{samples:500,style:{data:{fill:"#ffee99"}},y:function(t){return Math.max(0,180*p.a.getPosition(t.x,45.060879,-93.2219807).altitude/Math.PI)}}),Object(a.jsx)(d.a,{samples:500,style:{data:{fill:"#78c"}},y:function(t){return Math.min(0,180*p.a.getPosition(t.x,45.060879,-93.2219807).altitude/Math.PI)}}),n&&Object.keys(n).map((function(t){var e=n[t];return Object(a.jsx)(b.a,{name:t,style:{data:{strokeWidth:1,stroke:e.color},parent:{border:"1px solid #666"}},data:e.data,x:"timestamp",y:"reading"},t)})),Object(a.jsx)(j.a,{style:{grid:{stroke:"#818e99",strokeWidth:.5}}}),Object(a.jsx)(j.a,{dependentAxis:!0,style:{grid:{stroke:"#818e99",strokeWidth:.5}}}),Object(a.jsx)(O,{annotations:u})]})]})},M=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,1737)).then((function(e){var n=e.getCLS,a=e.getFID,o=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),a(t),o(t),i(t),c(t)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(A,{})}),document.getElementById("root")),M()},737:function(t,e){},760:function(t,e){},762:function(t,e){}},[[1707,1,2]]]);
//# sourceMappingURL=main.94aadcbb.chunk.js.map